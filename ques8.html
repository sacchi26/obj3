<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object 3</title>
</head>
<body>
    <h1>object </h1>
</body>
<script>
    let  sales = [
  { item: 'PS4 Pro', stock: 3, original: 399.99 },
  { item: 'Xbox One X', stock: 1, original: 499.99, discount: 0.1 },
  { item: 'Nintendo Switch', stock: 4, original: 299.99 },
  { item: 'PS2 Console', stock: 1, original: 299.99, discount: 0.8 },
  { item: 'Nintendo 64', stock: 2, original: 199.99, discount: 0.65 }
];



let obj = {
    sales : sales,

    calculateSalesTotals : function(){

        let arr = [];
        for(let i=0; i<this.sales.length; i++){
            let obj = {};

            obj["item"] = this.sales[i].item;
            obj["stock"] = this.sales[i].stock;
            obj["original"] = this.sales[i].original;


            if(this.sales[i].discount == undefined){
                obj["sales"] = this.sales[i].original;
                obj["total"] = obj.stock * obj.sales;
            }
            else{
                obj["discount"] = this.sales[i].discount;
                obj["sales"] = obj.original - (obj.original * this.sales[i].discount);
                obj["total"] = obj.stock * obj.sales;
               
            }
            arr.push(obj);
        }
        return arr;
    }
}
console.log(obj.calculateSalesTotals());


</script>
</html>